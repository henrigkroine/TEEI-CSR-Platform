TEEI-CSR-Platform Argo Rollouts Architecture
=============================================

k8s/rollouts/
â”œâ”€â”€ api-gateway/          [âœ… Existing - Phase J1]
â”‚   â””â”€â”€ analysis-template.yaml
â”‚       â”œâ”€â”€ 6 SLO metrics (error rate, P95/P99 latency, volume, CPU, memory)
â”‚       â””â”€â”€ Canary: 5% â†’ 25% â†’ 50% â†’ 100%
â”‚
â”œâ”€â”€ reporting/            [âœ… Existing - Phase J1]
â”‚   â””â”€â”€ analysis-template.yaml
â”‚       â”œâ”€â”€ 4 SLO metrics (error rate, P95 latency, Gen-AI success, DB pool)
â”‚       â””â”€â”€ Canary: 10% â†’ 30% â†’ 100%
â”‚
â”œâ”€â”€ q2q-ai/              [âœ… Existing - Phase J1]
â”‚   â””â”€â”€ analysis-template.yaml
â”‚       â”œâ”€â”€ 5 SLO metrics (error rate, P95 latency, LLM success, classification, tokens)
â”‚       â””â”€â”€ Canary: 5% â†’ 20% â†’ 50% â†’ 100%
â”‚
â”œâ”€â”€ corp-cockpit/        [ðŸ†• NEW - Phase J6.2]
â”‚   â””â”€â”€ analysis-template.yaml
â”‚       â”œâ”€â”€ 8 SLO metrics (Web Vitals: LCP, INP, CLS + JS/API errors + SSR perf)
â”‚       â””â”€â”€ Canary: 10% â†’ 30% â†’ 50% â†’ 100%
â”‚       â””â”€â”€ Focus: Frontend user experience quality
â”‚
â”œâ”€â”€ impact-in/           [ðŸ†• NEW - Phase J6.2]
â”‚   â””â”€â”€ analysis-template.yaml
â”‚       â”œâ”€â”€ 9 SLO metrics (delivery success, P95/P99 latency, retries, partner API, queue)
â”‚       â””â”€â”€ Canary: 10% â†’ 40% â†’ 100%
â”‚       â””â”€â”€ Focus: External partner delivery reliability
â”‚
â””â”€â”€ unified-profile/     [ðŸ†• NEW - Phase J6.2]
    â””â”€â”€ analysis-template.yaml
        â”œâ”€â”€ 10 SLO metrics (error rate, P95/P99 latency, aggregation, cache, DB, external fetch)
        â””â”€â”€ Canary: 20% â†’ 50% â†’ 100%
        â””â”€â”€ Focus: Low-latency profile retrieval

ROLLOUT STATS:
==============
Total Services:        6 tier-1 services
Total SLO Metrics:     42 unique health gates
Total Rollout Config:  1,860 lines of YAML
Auto-Rollback:         âœ… All services (failureLimit: 3)
Traffic Routing:       Istio VirtualService (L7 splitting)
Monitoring:            Prometheus (5m rate windows)

DEPLOYMENT TIMELINE:
====================
Service          | Initial | Mid-Stage | Final | Total Time
-----------------|---------|-----------|-------|------------
API Gateway      | 5%  2m  | 25%  5m   | 50% 10m | ~17m
Reporting        | 10% 3m  | 30% 10m   | -       | ~13m
Q2Q-AI          | 5%  5m  | 20% 15m   | 50% 30m | ~50m
Corp Cockpit     | 10% 5m  | 30% 10m   | 50% 15m | ~30m
Impact-In        | 10% 10m | 40% 20m   | -       | ~30m
Unified-Profile  | 20% 5m  | 50% 15m   | -       | ~20m
