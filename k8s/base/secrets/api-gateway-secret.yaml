apiVersion: v1
kind: Secret
metadata:
  name: teei-api-gateway-secrets
  labels:
    app: teei-api-gateway
    component: gateway
    part-of: teei-csr-platform
type: Opaque
stringData:
  # JWT Secret - MUST be replaced with actual value
  # Generate with: openssl rand -hex 32
  JWT_SECRET: "REPLACE_WITH_ACTUAL_JWT_SECRET"

  # Redis URL - Optional, for distributed rate limiting
  REDIS_URL: "redis://redis-service:6379"
---
# Alternative: Reference external secret from Vault
# Uncomment to use Vault Agent Injector instead
# apiVersion: v1
# kind: ServiceAccount
# metadata:
#   name: teei-api-gateway
#   annotations:
#     vault.hashicorp.com/agent-inject: "true"
#     vault.hashicorp.com/role: "teei-api-gateway"
#     vault.hashicorp.com/agent-inject-secret-jwt: "secret/teei/api-gateway"
#     vault.hashicorp.com/agent-inject-template-jwt: |
#       {{- with secret "secret/teei/api-gateway" -}}
#       export JWT_SECRET="{{ .Data.data.JWT_SECRET }}"
#       export REDIS_URL="{{ .Data.data.REDIS_URL }}"
#       {{- end }}
