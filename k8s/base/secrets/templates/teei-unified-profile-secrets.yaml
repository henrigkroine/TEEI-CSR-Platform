# TEMPLATE: Unified Profile Service Secrets
# This service handles user profiles and authentication
# DO NOT commit actual secret values

apiVersion: v1
kind: Secret
metadata:
  name: teei-unified-profile-secrets
  namespace: NAMESPACE_PLACEHOLDER
  labels:
    app: teei-unified-profile
    component: backend
    managed-by: sealed-secrets
type: Opaque
stringData:
  # Database connection
  DATABASE_URL: "postgresql://postgres:PLACEHOLDER_PASSWORD@postgres-service:5432/teei_csr"

  # Database read replica (optional)
  DATABASE_READ_URL: "postgresql://postgres:PLACEHOLDER_PASSWORD@postgres-replica-service:5432/teei_csr"

  # Encryption key for PII data (AES-256 key)
  PII_ENCRYPTION_KEY: "PLACEHOLDER_PII_ENCRYPTION_KEY_32_BYTES"

  # JWT validation secret (must match API Gateway)
  JWT_SECRET: "PLACEHOLDER_JWT_SECRET_SAME_AS_GATEWAY"

  # Redis for session storage
  REDIS_URL: "redis://redis-service:6379"
  REDIS_PASSWORD: "PLACEHOLDER_REDIS_PASSWORD"

  # OAuth2 credentials for SSO
  OAUTH_CLIENT_ID: "PLACEHOLDER_OAUTH_CLIENT_ID"
  OAUTH_CLIENT_SECRET: "PLACEHOLDER_OAUTH_CLIENT_SECRET"

  # SAML configuration
  SAML_CERT: "PLACEHOLDER_SAML_CERT_PEM"
  SAML_PRIVATE_KEY: "PLACEHOLDER_SAML_PRIVATE_KEY_PEM"

  # SCIM API token for user provisioning
  SCIM_API_TOKEN: "PLACEHOLDER_SCIM_API_TOKEN"

  # Audit logging encryption key
  AUDIT_LOG_ENCRYPTION_KEY: "PLACEHOLDER_AUDIT_ENCRYPTION_KEY"

---
# Security Notes:
# - PII_ENCRYPTION_KEY must be exactly 32 bytes (256 bits)
# - SAML keys should be generated per environment
# - JWT_SECRET MUST match the API Gateway secret
# - Store SAML private keys securely
# - Enable audit logging for all profile changes
