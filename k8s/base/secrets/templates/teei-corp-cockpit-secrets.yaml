# TEMPLATE: Corporate Cockpit (Frontend) Secrets
# Executive dashboard and reporting frontend
# DO NOT commit actual secret values

apiVersion: v1
kind: Secret
metadata:
  name: teei-corp-cockpit-secrets
  namespace: NAMESPACE_PLACEHOLDER
  labels:
    app: teei-corp-cockpit
    component: frontend
    managed-by: sealed-secrets
type: Opaque
stringData:
  # API Gateway connection (used by SSR)
  API_GATEWAY_URL: "http://teei-api-gateway:8080"
  API_GATEWAY_TOKEN: "PLACEHOLDER_API_GATEWAY_TOKEN"

  # Public API endpoint (for client-side calls)
  PUBLIC_API_URL: "https://api.staging.teei.example.com"

  # Analytics integration
  GOOGLE_ANALYTICS_ID: "PLACEHOLDER_GA_ID"
  MIXPANEL_TOKEN: "PLACEHOLDER_MIXPANEL_TOKEN"

  # Session management
  SESSION_SECRET: "PLACEHOLDER_SESSION_SECRET"
  SESSION_COOKIE_NAME: "teei_session"
  SESSION_MAX_AGE: "86400"  # 24 hours in seconds

  # Redis for SSR caching and session storage
  REDIS_URL: "redis://redis-service:6379"
  REDIS_PASSWORD: "PLACEHOLDER_REDIS_PASSWORD"

  # OAuth/SSO configuration (client-side)
  OAUTH_CLIENT_ID: "PLACEHOLDER_OAUTH_CLIENT_ID"
  OAUTH_REDIRECT_URI: "https://staging.teei.example.com/auth/callback"

  # Feature flags and environment config
  ENVIRONMENT: "staging"
  ENABLE_DEBUG_MODE: "false"
  ENABLE_SENTRY: "true"

  # Error tracking (Sentry)
  SENTRY_DSN: "PLACEHOLDER_SENTRY_DSN"
  SENTRY_AUTH_TOKEN: "PLACEHOLDER_SENTRY_AUTH_TOKEN"
  SENTRY_PROJECT: "teei-corp-cockpit"

  # Content Security Policy nonce secret
  CSP_NONCE_SECRET: "PLACEHOLDER_CSP_NONCE_SECRET"

  # PDF generation service credentials (for reports)
  PDF_SERVICE_URL: "http://teei-reporting:8080"
  PDF_SERVICE_API_KEY: "PLACEHOLDER_PDF_SERVICE_API_KEY"

  # Asset CDN credentials (if using private CDN)
  CDN_URL: "https://cdn.teei.example.com"
  CDN_API_KEY: "PLACEHOLDER_CDN_API_KEY"

  # OpenTelemetry for RUM (Real User Monitoring)
  OTEL_EXPORTER_OTLP_ENDPOINT: "https://otel-collector:4318"
  OTEL_EXPORTER_OTLP_HEADERS: "Authorization=Bearer PLACEHOLDER_OTEL_TOKEN"

---
# Frontend Security Notes:
# - Never expose backend API tokens to client-side code
# - Use environment variables for server-side only secrets
# - Enable CSP with strict nonce-based policy
# - Configure CORS properly in API Gateway
# - Use SameSite=Strict for session cookies
# - Enable HTTPS everywhere
# - Implement rate limiting on login/signup forms
# - Use SRI (Subresource Integrity) for external scripts
# - Enable HSTS headers
# - Regular security audits with npm audit
