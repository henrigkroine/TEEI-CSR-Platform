# TEMPLATE: Q2Q AI Service Secrets
# Qualitative to Quantitative AI pipeline
# DO NOT commit actual secret values

apiVersion: v1
kind: Secret
metadata:
  name: teei-q2q-ai-secrets
  namespace: NAMESPACE_PLACEHOLDER
  labels:
    app: teei-q2q-ai
    component: ai-service
    managed-by: sealed-secrets
type: Opaque
stringData:
  # Anthropic Claude API key for Q2Q processing
  ANTHROPIC_API_KEY: "sk-ant-api03-PLACEHOLDER_ANTHROPIC_API_KEY"

  # Anthropic project ID (optional)
  ANTHROPIC_PROJECT_ID: "PLACEHOLDER_PROJECT_ID"

  # Database connection for storing AI outputs
  DATABASE_URL: "postgresql://postgres:PLACEHOLDER_PASSWORD@postgres-service:5432/teei_csr"

  # Vector database for embeddings (if using)
  VECTOR_DB_URL: "postgresql://postgres:PLACEHOLDER_PASSWORD@postgres-service:5432/teei_csr"
  VECTOR_DB_API_KEY: "PLACEHOLDER_VECTOR_DB_API_KEY"

  # Redis for caching AI responses
  REDIS_URL: "redis://redis-service:6379"
  REDIS_PASSWORD: "PLACEHOLDER_REDIS_PASSWORD"

  # AI model configuration
  AI_MODEL_NAME: "claude-3-5-sonnet-20241022"
  AI_MAX_TOKENS: "4096"
  AI_TEMPERATURE: "0.3"

  # Rate limiting for AI API calls
  AI_RATE_LIMIT_SECRET: "PLACEHOLDER_AI_RATE_LIMIT_SECRET"

  # Webhook secret for AI job callbacks
  WEBHOOK_SECRET: "PLACEHOLDER_WEBHOOK_SECRET"

  # S3 credentials for storing AI artifacts (optional)
  AWS_ACCESS_KEY_ID: "PLACEHOLDER_AWS_ACCESS_KEY"
  AWS_SECRET_ACCESS_KEY: "PLACEHOLDER_AWS_SECRET_KEY"
  S3_BUCKET: "teei-ai-artifacts-staging"

  # Evidence lineage encryption key
  EVIDENCE_ENCRYPTION_KEY: "PLACEHOLDER_EVIDENCE_ENCRYPTION_KEY"

  # Safety moderation API key
  MODERATION_API_KEY: "PLACEHOLDER_MODERATION_API_KEY"

---
# AI Service Notes:
# - NEVER expose Anthropic API keys in logs
# - Monitor API usage and costs closely
# - Set appropriate rate limits to prevent runaway costs
# - Cache AI responses when possible
# - Enable request/response logging for audit
# - Rotate API keys every 30 days
# - Use different API keys per environment
