---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Privacy" description="Privacy practices, data protection, and GDPR compliance">
  <div>
    <h1 class="text-3xl font-bold text-gray-900 mb-6">Privacy & Data Protection</h1>

    <!-- GDPR Compliance -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">GDPR Compliance</h2>
      <p class="text-gray-700 mb-4">
        We are fully compliant with the EU General Data Protection Regulation (GDPR) and provide comprehensive rights to data subjects.
      </p>
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Your Rights</h3>
          <ul class="space-y-2 text-sm text-gray-700">
            <li>• Right to access your personal data</li>
            <li>• Right to rectification</li>
            <li>• Right to erasure ("right to be forgotten")</li>
            <li>• Right to data portability</li>
            <li>• Right to object to processing</li>
            <li>• Right to restrict processing</li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-2">DSAR Processing</h3>
          <p class="text-sm text-gray-700 mb-2">
            Data Subject Access Requests (DSARs) are processed within 30 days as required by GDPR Article 15.
          </p>
          <a href="mailto:privacy@teei.io" class="text-primary-600 hover:text-primary-700 text-sm font-medium">
            Submit DSAR →
          </a>
        </div>
      </div>
    </div>

    <!-- Data Processing Agreement -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Data Processing Agreement (DPA)</h2>
      <p class="text-gray-700 mb-4">
        Our standard DPA meets GDPR Article 28 requirements and includes Standard Contractual Clauses (SCCs) for international data transfers.
      </p>
      <div class="space-y-2 mb-4">
        <div class="flex items-center justify-between border-b border-gray-100 pb-2">
          <span class="text-gray-700">DPA Version:</span>
          <span class="font-semibold text-gray-900">3.1 (Updated Nov 2025)</span>
        </div>
        <div class="flex items-center justify-between border-b border-gray-100 pb-2">
          <span class="text-gray-700">SCCs:</span>
          <span class="font-semibold text-gray-900">EU Commission 2021/914</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-gray-700">Binding Corporate Rules:</span>
          <span class="font-semibold text-gray-900">Approved</span>
        </div>
      </div>
      <a href="/docs/dpa.pdf" class="inline-block px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition">
        Download DPA
      </a>
    </div>

    <!-- Data Residency -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Data Residency</h2>
      <p class="text-gray-700 mb-4">
        We store and process data in compliance with regional data residency requirements. Customer data does not leave the designated region.
      </p>
      <div class="space-y-4">
        <div class="border-l-4 border-blue-500 pl-4">
          <h3 class="font-semibold text-gray-900">European Union</h3>
          <p class="text-sm text-gray-700">Primary: EU-WEST-1 (Ireland) | Backup: EU-CENTRAL-1 (Frankfurt)</p>
        </div>
        <div class="border-l-4 border-blue-500 pl-4">
          <h3 class="font-semibold text-gray-900">United States</h3>
          <p class="text-sm text-gray-700">Primary: US-EAST-1 (Virginia) | Backup: US-WEST-2 (Oregon)</p>
        </div>
        <div class="border-l-4 border-blue-500 pl-4">
          <h3 class="font-semibold text-gray-900">United Kingdom</h3>
          <p class="text-sm text-gray-700">Primary: EU-WEST-2 (London) | Backup: EU-WEST-1 (Ireland)</p>
        </div>
        <div class="border-l-4 border-blue-500 pl-4">
          <h3 class="font-semibold text-gray-900">Asia-Pacific</h3>
          <p class="text-sm text-gray-700">Primary: AP-SOUTHEAST-1 (Singapore) | Backup: AP-NORTHEAST-1 (Tokyo)</p>
        </div>
      </div>
      <div class="mt-4">
        <a href="/api/v1/residency/policy" class="text-primary-600 hover:text-primary-700 text-sm font-medium">
          View Residency Policy API →
        </a>
      </div>
    </div>

    <!-- Records of Processing Activities (ROPA) -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Records of Processing Activities (ROPA)</h2>
      <p class="text-gray-700 mb-4">
        As required by GDPR Article 30, we maintain comprehensive records of all data processing activities.
      </p>
      <a href="/docs/ropa.pdf" class="inline-block px-4 py-2 border border-primary-600 text-primary-600 rounded-md hover:bg-primary-50 transition">
        View ROPA
      </a>
    </div>

    <!-- Data Protection Impact Assessment (DPIA) -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Data Protection Impact Assessments (DPIA)</h2>
      <p class="text-gray-700 mb-4">
        We conduct DPIAs for all high-risk processing activities, including AI model training and automated decision-making.
      </p>
      <ul class="space-y-2 text-sm text-gray-700">
        <li>• Q2Q AI Pipeline DPIA (Updated Q4 2025)</li>
        <li>• Report Generation DPIA (Updated Q3 2025)</li>
        <li>• Evidence Lineage DPIA (Updated Q4 2025)</li>
      </ul>
      <div class="mt-4">
        <a href="/docs/dpia-summary.pdf" class="text-primary-600 hover:text-primary-700 text-sm font-medium">
          View DPIA Summaries →
        </a>
      </div>
    </div>
  </div>
</BaseLayout>
