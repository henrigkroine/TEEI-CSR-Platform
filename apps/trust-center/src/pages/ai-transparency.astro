---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="AI Transparency" description="AI governance, model cards, and human oversight practices">
  <div>
    <h1 class="text-3xl font-bold text-gray-900 mb-6">AI Transparency & Governance</h1>

    <!-- AI Act Compliance -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">EU AI Act Compliance</h2>
      <p class="text-gray-700 mb-4">
        We comply with the EU AI Act requirements for transparency, accountability, and human oversight of AI systems.
      </p>
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Risk Classification</h3>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-700">Q2Q AI Pipeline:</span>
              <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium">Limited Risk</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-700">Report Generation:</span>
              <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-medium">Low Risk</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-700">Evidence Scoring:</span>
              <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-medium">Low Risk</span>
            </div>
          </div>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Article 13 Transparency</h3>
          <ul class="space-y-1 text-sm text-gray-700">
            <li>‚Ä¢ AI system disclosed to users</li>
            <li>‚Ä¢ Human oversight mechanisms in place</li>
            <li>‚Ä¢ Records of operations maintained</li>
            <li>‚Ä¢ Audit logs for 5+ years</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Model Cards -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Model Cards</h2>
      <p class="text-gray-700 mb-4">
        Comprehensive documentation for all AI models used in production, including intended use, limitations, and performance characteristics.
      </p>
      <div class="space-y-4">
        <div class="border border-gray-200 rounded-md p-4">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-gray-900">Q2Q Evidence Classifier v3.2</h3>
            <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium">Production</span>
          </div>
          <div class="grid md:grid-cols-2 gap-2 text-sm">
            <div>
              <span class="text-gray-600">Base Model:</span>
              <span class="font-medium text-gray-900"> GPT-4-turbo (OpenAI)</span>
            </div>
            <div>
              <span class="text-gray-600">Purpose:</span>
              <span class="font-medium text-gray-900"> Extract impact metrics from text</span>
            </div>
            <div>
              <span class="text-gray-600">Accuracy:</span>
              <span class="font-medium text-gray-900"> 89.5% (validated)</span>
            </div>
            <div>
              <span class="text-gray-600">Last Updated:</span>
              <span class="font-medium text-gray-900"> Nov 2025</span>
            </div>
          </div>
          <a href="/docs/model-cards/q2q-v3.2.pdf" class="text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block">
            View full model card ‚Üí
          </a>
        </div>

        <div class="border border-gray-200 rounded-md p-4">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-gray-900">Narrative Generation v2.1</h3>
            <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium">Production</span>
          </div>
          <div class="grid md:grid-cols-2 gap-2 text-sm">
            <div>
              <span class="text-gray-600">Base Model:</span>
              <span class="font-medium text-gray-900"> Claude 3.7 Sonnet (Anthropic)</span>
            </div>
            <div>
              <span class="text-gray-600">Purpose:</span>
              <span class="font-medium text-gray-900"> Generate CSRD-aligned reports</span>
            </div>
            <div>
              <span class="text-gray-600">Citation Accuracy:</span>
              <span class="font-medium text-gray-900"> 98.2% (validated)</span>
            </div>
            <div>
              <span class="text-gray-600">Last Updated:</span>
              <span class="font-medium text-gray-900"> Nov 2025</span>
            </div>
          </div>
          <a href="/docs/model-cards/narrative-v2.1.pdf" class="text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block">
            View full model card ‚Üí
          </a>
        </div>
      </div>
    </div>

    <!-- Human Oversight -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Human Oversight & Review</h2>
      <p class="text-gray-700 mb-4">
        All AI-generated outputs are subject to human review before finalization. We maintain Standard Operating Procedures (SOPs) for AI oversight.
      </p>
      <div class="space-y-3">
        <div class="flex items-start space-x-3">
          <span class="text-primary-600 text-xl" aria-hidden="true">üë§</span>
          <div>
            <h3 class="font-semibold text-gray-900">Approval Workflow</h3>
            <p class="text-sm text-gray-700">Reports require analyst review before publication. Draft ‚Üí Review ‚Üí Approve lifecycle enforced.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <span class="text-primary-600 text-xl" aria-hidden="true">üîç</span>
          <div>
            <h3 class="font-semibold text-gray-900">Audit Mode</h3>
            <p class="text-sm text-gray-700">Evidence lineage overlay shows citation provenance. Hover on any data point to view source evidence ID.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <span class="text-primary-600 text-xl" aria-hidden="true">üìã</span>
          <div>
            <h3 class="font-semibold text-gray-900">Oversight SOPs</h3>
            <p class="text-sm text-gray-700">Documented procedures for monitoring AI systems, handling failures, and escalating issues.</p>
            <a href="/docs/ai-oversight-sop.pdf" class="text-primary-600 hover:text-primary-700 text-sm font-medium">
              View SOP ‚Üí
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Evidence Gates -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Evidence Gates</h2>
      <p class="text-gray-700 mb-4">
        We enforce strict "no evidence ‚Üí no sentence" policies. AI-generated content without sufficient citations is rejected with <code class="px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm font-mono">422_EVIDENCE_REQUIRED</code> error.
      </p>
      <div class="bg-gray-50 p-4 rounded-md">
        <h3 class="font-semibold text-gray-900 mb-2">Citation Requirements</h3>
        <ul class="space-y-1 text-sm text-gray-700">
          <li>‚Ä¢ Minimum 1 citation per paragraph (configurable)</li>
          <li>‚Ä¢ Citation density: ‚â•0.5 per 100 words</li>
          <li>‚Ä¢ All citations validated against evidence database</li>
          <li>‚Ä¢ Failed validations block report generation</li>
        </ul>
      </div>
    </div>

    <!-- Evidence Ledger -->
    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Evidence Ledger (Tamper-Proof Audit Log)</h2>
      <p class="text-gray-700 mb-4">
        All evidence usage is recorded in an append-only ledger with SHA-256 content digests. Ledger provides cryptographic integrity guarantees for compliance audits.
      </p>
      <div class="space-y-2 text-sm">
        <div class="flex justify-between border-b border-gray-100 pb-2">
          <span class="text-gray-700">Digest Algorithm:</span>
          <span class="font-semibold text-gray-900">SHA-256</span>
        </div>
        <div class="flex justify-between border-b border-gray-100 pb-2">
          <span class="text-gray-700">Chain Integrity:</span>
          <span class="font-semibold text-gray-900">previousDigest linking</span>
        </div>
        <div class="flex justify-between border-b border-gray-100 pb-2">
          <span class="text-gray-700">Tamper Detection:</span>
          <span class="font-semibold text-gray-900">Automated verification</span>
        </div>
        <div class="flex justify-between">
          <span class="text-gray-700">Retention:</span>
          <span class="font-semibold text-gray-900">5+ years (AI Act Article 12)</span>
        </div>
      </div>
      <div class="mt-4">
        <a href="/api/v1/trust/ledger/:reportId" class="text-primary-600 hover:text-primary-700 text-sm font-medium">
          Ledger API Documentation ‚Üí
        </a>
      </div>
    </div>
  </div>
</BaseLayout>
