@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Tenant-specific brand colors (dynamically set via JS) */
  --color-primary: #0066CC;
  --color-secondary: #1E40AF;
  --color-accent: #10B981;
  --color-text-on-primary: #FFFFFF;
  --color-text-on-secondary: #FFFFFF;
  --color-text-on-accent: #FFFFFF;

  /* Dark mode overrides (optional) */
  --color-primary-dark: #3B82F6;
  --color-secondary-dark: #60A5FA;
  --color-accent-dark: #34D399;

  /* Neutral colors */
  --color-background: #FFFFFF;
  --color-foreground: #1A1A1A;
  --color-border: #E0E0E0;
  --color-muted: #F5F5F5;
  --color-muted-foreground: #595959; /* WCAG AA compliant: 7:1 contrast on white */

  /* Typography */
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-size-base: 1rem;
  --line-height-normal: 1.5;

  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
}

[data-theme="dark"] {
  --color-background: #121212;
  --color-foreground: #E0E0E0;
  --color-border: #333333;
  --color-muted: #1E1E1E;
  --color-muted-foreground: #A0A0A0;

  /* Use dark mode brand colors if available */
  --color-primary: var(--color-primary-dark, var(--color-primary));
  --color-secondary: var(--color-secondary-dark, var(--color-secondary));
  --color-accent: var(--color-accent-dark, var(--color-accent));
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
  }

  /* Focus visible for accessibility - WCAG 2.2 AA compliant */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
    outline-style: solid;
  }

  /* Enhanced focus styles for interactive elements */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [tabindex]:focus-visible {
    @apply ring-2 ring-primary ring-offset-2;
  }

  /* Dark mode focus ring offset */
  [data-theme="dark"] *:focus-visible {
    @apply ring-offset-gray-900;
  }

  /* Remove default focus outline to use our custom styles */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Skip link for accessibility */
  .skip-link {
    @apply absolute left-0 top-0 z-50 bg-primary px-4 py-2 text-white rounded-br-md;
    @apply -translate-y-full transform;
    @apply transition-transform focus:translate-y-0;
    @apply focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary;
  }

  /* Screen reader only class */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium;
    @apply transition-colors focus-visible:outline focus-visible:outline-2;
    @apply disabled:pointer-events-none disabled:opacity-50;
    min-height: 44px; /* WCAG 2.2 Level AA (2.5.8) - 44x44px touch target */
    min-width: 44px;
  }

  .btn-primary {
    @apply btn bg-primary text-white hover:opacity-90;
  }

  .btn-secondary {
    @apply btn border border-border bg-background hover:bg-border/50;
  }

  .card {
    @apply rounded-lg border border-border bg-background p-6 shadow-sm;
  }

  /* Form controls - WCAG 2.2 Level AA minimum touch targets */
  input[type="checkbox"],
  input[type="radio"] {
    min-width: 24px;
    min-height: 24px;
    cursor: pointer;
  }
}
